# Doczilla
Тестовое задание для компании Doczilla (Задача “сортировка жидкостей”, Сервис обмена файлами, Сервис прогноза погоды по городам)

## ТЗ
# 1. Задача “сортировка жидкостей”

Реализовать программу, решающую задачи популярной головоломки “сортировка жидкостей”.

Игра хорошо известна, но сформулируем правила игры математически. Дано некоторое количество N пробирок одинакового объёма V. В задаче объём дискретный, измеряется в количестве некоторых минимальных единиц жидкости, назовём их “капли”, поэтому V - натуральное число. Дано некоторое количество M разноцветных жидкостей (N > M) объёма V. Разноцветные жидкости перемешаны и разлиты в M пробирок. При этом капли жидкостей разного цвета не смешиваются, а выстраиваются в пробирке вертикально в ряд. (N - M) пробирок пусты. Задача: переливая жидкости из пробирок в пробирки сортировать их таким образом, чтобы каждая жидкость одного цвета оказалась в отдельной пробирке. За один ход можно перелить жидкость из пробирки A в пробирку B по следующим правилам:
в пробирке A есть жидкость
в пробирке B есть пустое место
переливать можно только верхние капли и только одного цвета
переливать жидкость из пробирки A можно только в том случае, если в пробирке B верхняя жидкость того же цвета, либо пробирка B пуста
если в пробирке A сверху находится более одной капли одного цвета, их можно перелить либо все, либо столько, сколько есть места в пробирке B
Требования к программе:
исходные данные должны задаваться двумерным массивом размерности NxV
цвета жидкостей могут быть обозначены числами и/или буквами
результат выполнения программы - последовательность ходов, приводящих заданное исходное состояние к отсортированному состоянию

Примечание: от программы не требуется, чтобы она приводила оптимальное решение.
# 2. Сервис обмена файлами

Сделать сервис, который позволяет загружать файлы и получать временную ссылку на скачивание.

Требования:

Frontend
Стек: Vanilla JS, CSS, HTML
Форма загрузки файла
Отображение статуса загрузки
Отображение ссылки
Backend
Стек: NodeJS (TypeScript) / Java
Автоматическое удаление устаревших файлов (устаревшими файлами считать те, которые не скачивали в течение определенного срока, например, 30 дней)
Генерация уникальной ссылки на скачивание

# 3. Сервис прогноза погоды по городам
	
Необходимо реализовать сервис, который будет получать текущий прогноз погоды для указанного города, используя открытое API (https://open-meteo.com). Сервис должен кэшировать данные о погоде в Redis, а также визуализировать данные о температуре в виде графика, отображающего изменения температуры по часам.

Сервис должен предоставлять API по следующему пути:

 GET /weather?city={city}
 Где {city} — это название города (например, Moscow, Berlin и т.д.).


При первом запросе на этот путь сервис должен:
Получить координаты города (широту и долготу) через API геокодинга.
Получить прогноз погоды на ближайшие 24 часа через API (с использованием координат).
Сохранить данные о прогнозе погоды в Redis с временем жизни 15 минут.
При последующих запросах в течение 15 минут сервис должен отдавать данные из Redis без повторного обращения к API.

Если данные о погоде устарели (или не кэшированы), сервис должен обновить информацию, получив её из API.


Визуализировать изменения температуры в виде графика, показывающего температуру по часам в течение дня.



Используемые внешние API:
Геокодинг города:
https://geocoding-api.open-meteo.com/v1/search?name={city}


Прогноз погоды:
https://api.open-meteo.com/v1/forecast?latitude={lat}&longitude={lon}&hourly=temperature_2m
Требования
Стек: NodeJS (TypeScript) / Java.
Допустимо использование сторонних библиотек для создания графиков и работы с JSON.
При желании можно реализовать своё in-memory кэширование (вместо Redis).


## Запуск всех приложений.

Задания разбиты по папкам (file_share, sorting, weather) для запуска конкретной программы нужно ввести команду и название программы:

``` npm run file_share ```
``` npm run sorting```
``` npm run weather ```

## 1.) Сортировка жидкостей
Для реализации решения данной задачи я использовал алгортим поиска в ширину, он хорошо подходит так как находит кратчайший путь к решению. Однако решения не всегда может быть оптимальным.

Для входных данных используется массив ```initialState``` цвета в котором обозначены буквами. Решение выводится в консоль после запуска программы.


## 2.) Сервис обмена файлами (UpShare)

# UpShare

Простое приложение для обмена файлами с временными ссылками

## Описание

Приложение имеет простенький интерфейс для загрузки файлов, возможно загружать файлы до 2ГБ и получать уникальную ссылку для скачивания. Ссылки хранятся в отдельном json файле ```links.json```. Ссылки очищаются каждый день и действительны 30 дней (время действия обновляется при каждом скачивании). Загруженные файлы грузятся в папку storage.

## Установка всех зависимостей

```npm install```

## Приложение будет доступно по адресу: http://localhost:3000

Нажмите "Upload" и выберите файл

Дождитесь завершения загрузки

Скопируйте ссылку для скачивания из появившегося окна

Передайте ссылку получателю

## Структура проекта

```file-share/
├── client/            # Статические файлы фронтенда
├── storage/           # Папка для загруженных файлов
├── server/server.js          # Основной серверный файл
├── links.json         # База данных ссылок (создается автоматически)
├── package.json
└── README.md
```

## 3.) Сервис прогноза погоды по городам. (Weather)


